function CermaiHelper(){var a=require("../config.json"),b=require("moment");b.locale("id"),this.example=function(a,b,c){return b.send("You call example helper :)")},this.handleAjax=function(b,c,d){var e=b.headers["x-requested-with"];if("XMLHttpRequest"!=e){var f="";return f=80!=a.app.port?b.protocol+"://"+a.app.host+":"+a.app.port:b.protocol+"://"+a.app.host,c.redirect(f+"/"+d+"#"+b.url)}},this.login=function(a,b,c,d){a.findOne(b,function(a,b){null!=b?(c.session.cermaiSession=b,d(null,!0)):d("Login Invalid",null)})},this.logout=function(a,b,c){return a.session.destroy(),b.redirect(c.toString())},this.shortid=function(a,c,d){var e=b().format("YYMMDDHHmmss"),f=Math.ceil(100*Math.random()),g=e+f,h=new Buffer(g).toString("base64");return h=h.slice(h.length-8).replace(/=/gi,"A")}}module.exports=CermaiHelper;